<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Language ¬∑ tollwerk</title>
        <link rel="stylesheet" href="a11y-bookmarklets.css"/>
    </head>
    <body>
        <main>
            <h1>Language</h1>
            <h2>Bookmarklet</h2>
            <p>
                <!-- inject:bookmarklet -->
                <a href="javascript:(()=%3E%7B%22use%20strict%22;var%20e,t=%7B585:(e,t)=%3E%7Bconst%20n=%7Bcolor:%22black%22,%22font-family%22:%22sans-serif%22,%22font-size%22:%22small%22,%22background-color%22:%22yellow%22,padding:%225px%208px%22,outline:%222px%20dotted%20#000%22,%22outline-offset%22:%22-3px%22,%22border-width%22:0,cursor:%22default%22,%22z-index%22:2147483647%7D,o=function()%7B0==document.querySelectorAll(%22.twa11y-toggle:checked%22).length&&(this.style.display=%22inline%22)%7D,l=function()%7B0==document.querySelectorAll(%22.twa11y-toggle:checked%22).length&&(this.style.display=%22none%22)%7D,s=function%20e(t,n,o=null)%7Blet%20l=Array.from((o%7C%7Cdocument).querySelectorAll(n)).reduce(((e,n)=%3E(t(n),e+1)),0);return%20Array.from((o%7C%7Cdocument).querySelectorAll(%22*%22)).forEach((o=%3E%7Bo.shadowRoot&&(l+=e(t,n,o.shadowRoot))%7D)),l%7D,i=function(e)%7Bconst%20t=%7B%7D;return%20e.split(%22;%22).forEach((e=%3E%7Bif(e.trim().length)%7Bconst%5Bn,o%5D=e.split(%22:%22);t%5Bn%5D=o.trim()%7D%7D)),t%7D;class%20c%7Bconstructor(e,t,n,o,l,s,i)%7Bthis.el=e,this.pos=t,this.str=(n%7C%7C%22%22).trim(),this.cls=%60twa11y%20$%7Bo%7C%7C%22%22%7D%60.trim(),this.stl=(l%7C%7C%22%22).trim(),this.icn=s%7C%7C%22%F0%9F%94%8D%22,this.opn=!!i,this.tgl=!1%7Dcreate(e,t)%7Bconst%20s=document.createElement(e?%22label%22:%22button%22);this.cls.trim().length&&(s.className=this.cls);const%20c=%7B...n,...i(this.stl)%7D;this.el.offsetParent&&this.el.offsetParent!==document.body&&(c.left=%60$%7Bthis.el.offsetLeft%7Dpx%60,c.top=%60$%7Bthis.el.offsetTop%7Dpx%60);const%20r=function(e)%7Bconst%20t=%5B%5D;for(const%20n%20in%20e)t.push(%60$%7Bn%7D:$%7Be%5Bn%5D%7D%60);return%20t.join(%22;%22)%7D(c);if(r.length&&s.setAttribute(%22style%22,r),this.icn)if(e)s.innerHTML=%60$%7Bthis.icn%7D%20$%7Bthis.str%7D%60;else%7Bs.innerHTML=this.icn;const%20e=document.createElement(%22span%22);e.className=%22twa11y-details%22,e.innerHTML=this.str,e.style.color=%22inherit%22,e.style.marginLeft=%224px%22,s.appendChild(e),this.opn%7C%7C(e.style.display=%22none%22,s.addEventListener(%22focus%22,o.bind(e)),s.addEventListener(%22mouseover%22,o.bind(e)),s.addEventListener(%22blur%22,l.bind(e)),s.addEventListener(%22mouseout%22,l.bind(e)))%7Delse%20s.innerHTML=this.str;if(e&&t)%7Bs.appendChild(document.createTextNode(%22%20%E2%80%94%20show%20all%22));const%20e=document.createElement(%22input%22);e.className=%22twa11y-toggle%22,e.setAttribute(%22type%22,%22checkbox%22),e.style.margin=%220%200%200%204px%22,e.style.verticalAlign=%22baseline%22,e.addEventListener(%22change%22,(function()%7BArray.from(document.querySelectorAll(%22.twa11y-toggle%22)).forEach((e=%3E%7Be!==this&&(e.checked=this.checked)%7D)),Array.from(document.querySelectorAll(%22.twa11y-details%22)).forEach((e=%3E%7Be.style.display=this.checked?%22inline%22:%22none%22%7D))%7D)),s.appendChild(e)%7Delse%20s.onclick=e=%3E(console.log(this.el),!1);return%20e&&(s.className+=%22%20twa11y-glb%22,document.querySelectorAll(%22.twa11y-glb%22).forEach((e=%3Ee.remove()))),0===this.pos?this.el.parentNode.insertBefore(s,this.el):1===this.pos?this.el.parentNode.insertBefore(s,this.el.nextSibling):2===this.pos?this.el.insertBefore(s,this.el.firstChild):3===this.pos&&this.el.appendChild(s),s%7D%7Dt.mc=function()%7Bs((e=%3Ee.remove()),%22.twa11y%22)%7D,t.NR=s,t.kI=c,t.Qz=class%20extends%20c%7Bconstructor(e,t,n,o,l,s,i)%7Bsuper(e,t,n,o,%60$%7Bl%7C%7C%22%22%7D;background-color:lime;outline-color:#000%60,s%7C%7C%22%E2%9C%94%22,!!i)%7D%7D%7D%7D,n=%7B%7D;e=function%20e(o)%7Bvar%20l=n%5Bo%5D;if(void%200!==l)return%20l.exports;var%20s=n%5Bo%5D=%7Bexports:%7B%7D%7D;return%20t%5Bo%5D(s,s.exports,e),s.exports%7D(585),function(t)%7B(0,e.mc)();const%20n=t.getElementsByTagName(%22html%22)%5B0%5D.getAttribute(%22xml:lang%22),o=t.documentElement.lang,l=%22position:fixed;top:0;left:0%22,s=(0,e.NR)((function(t)%7Bnew%20e.kI(t,2,%60%3Ccode%3E%5Blang=%22$%7Bt.getAttribute(%22lang%22)%7D%22%5D%3C/code%3E%60,null,%22position:absolute%22).create()%7D),%22%5Blang%5D:not(html)%22),i=%60%20and%20$%7Bs%7D%20element(s)%20with%20explicitly%20specified%20language%60;n&&o?new%20e.Qz(t.body,2,%60Document%20has%20%3Ccode%3Elang=%22$%7Bo%7D%22%3C/code%3E,%20%3Ccode%3Exml:lang=%22$%7Bn%7D%22%3C/code%3E$%7Bi%7D%60,null,l).create(!0,!!s):o?new%20e.Qz(t.body,2,%60Document%20has%20%3Ccode%3Elang=%22$%7Bo%7D%22%3C/code%3E$%7Bi%7D%60,null,l).create(!0,!!s):n?new%20e.Qz(t.body,2,%60Document%20has%20%3Ccode%3Exml:lang=%22$%7Bn%7D%22%3C/code%3E$%7Bi%7D%60,null,l).create(!0,!!s):new%20e.kI(t.body,2,%60Document%20has%20no%20%3Ccode%3Elang%3C/code%3E%20or%20%3Ccode%3Exml:lang%3C/code%3E%20attribute$%7Bi%7D%60,null,l).create(!0,!(!n&&!o))%7D(document)%7D)();">Lang ‚ìâ</a>
                <!-- endinject -->
            </p>
            <p class="hint">A bookmarklet is a small piece of (JavaScript) code that is run in the context of the
                currently visible
                web page.
                It comes as a bookmark that you typically add to your browser bookmarks for being able to run it
                repeatedly.
                In
                order to install this bookmarklet,
                please drag the link above to your browser bookmarks and call it from there. You can also click on the
                link to run the bookmarklet on this very page.</p>
            <h2>Purpose &amp; Notes</h2>
            <p>The purpose of this bookmarklet is to identify the presence of a document language setting as well as
                language settings for individual sections / phrases / words. Shadow DOMs are examined recursively.</p>
            <p>The results are displayed visually on the page:</p>
            <ul>
                <li>A green bubble (‚úî) indicates a present language setting.</li>
                <li>A red bubble (‚úñ) indicates a missing document language setting.</li>
                <li>A yellow bubble (üîç) indicates word, phrase or section with an explicit language setting.</li>
            </ul>
            <p>Click on any of the info
                bubbles to log the associated element to the DevTools console.</p>
            <h2>Test bed</h2>
            <p>This paragraph contains a single German word ‚Äî <span lang="de">Augenweide</span> ‚Äî as well as a French
                quote:</p>
            <blockquote lang="fr">La peur est mauvaise conseill√®re.</blockquote>
        </main>
        <footer>
            <a href="index.html">Back to list</a>
        </footer>
    </body>
</html>
